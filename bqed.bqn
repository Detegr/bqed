While â† {ğ•©{ğ”½âŸğ”¾âˆ˜ğ”½_ğ•£_ğ”¾âˆ˜ğ”½âŸğ”¾ğ•©}ğ•¨@}Â´

# ANSI escape code
ansiesc â† @+27
enter â† @+13

# Laminate array of strings with ANSI escape and concatenate them together
Ansi â† âˆ¾ansiescâŠ¸âˆ¾âŒœ

# Move cursor down for one line
CursorDown â† â€¢OutRawâˆ˜(ansiescâˆ¾"[1E")

# No operation
Nop â† {ğ•¤}

# Restore terminal state and exit
Quit â† {â€¢SH "stty"â€¿"-raw"â€¿"echo" â‹„ â€¢Exit ğ•©}

# Special keycodes to react to
keys â† 'q'â€¿enter

# List of functions corresponding indices of `keys`
kfns â† Quitâ€¿CursorDownâ€¿â€¢OutRaw

# Get function for keycode
Kfn â† âŠ‘keysâŠ¸âŠ

# Fetch terminal width and height using `tput`
# Evaluate with â€¢BQN to convert strings to integers
wâ†â€¢BQN 1âŠ‘â€¢SH "tput"â€¿"cols"
hâ†â€¢BQN 1âŠ‘â€¢SH "tput"â€¿"lines"

# Put terminal to raw mode, disable echo
â€¢SH "stty"â€¿"raw"â€¿"-echo"

# Clear screen and position cursor to top
â€¢OutRaw Ansi "[2J"â€¿"[H"

While 1â€¿{ğ•¤
  # Get a character and run a function for the input
  Kfnâ—¶kfns â€¢GetChar @
}
